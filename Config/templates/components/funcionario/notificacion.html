<!-- ==================== NOTIFICATIONS PANEL ==================== -->
<div class="notifications-panel" id="notificationsPanel">
    <div class="notifications-header">
    <div class="notifications-title">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9">
                </path>
            </svg>
            Centro de Operaciones
            <span class="notif-count">2</span>
        </div>
        <button class="btn-close-panel" id="closeNotifBtn">✕</button>
    </div>

    <div class="notifications-tabs">
        <button class="tab-btn active" data-tab="historial">Notificaciones</button>
        <button class="tab-btn" data-tab="envivo">Tiempo Real</button>
    </div>

    <div class="notifications-content">
        <!-- Historial Tab -->
        <div class="tab-content active" id="historialTab">
            <div class="notification-search">
                <input type="text" id="searchNotifications" placeholder="Buscar notificaciones...">
            </div>

            <div class="notification-filter">
                <select id="notificationFilter">
                    <option value="todas">Todas</option>
                    <option value="nuevas">Nuevas</option>
                    <option value="leidas">Leídas</option>
                </select>
            </div>

            <div class="notification-actions">
                <button id="markAllAsRead" class="btn-action">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" style="width: 16px; height: 16px;">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                    </svg>
                    Marcar todas como leídas
                </button>
                <button id="clearAllNotifications" class="btn-action btn-danger">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" style="width: 16px; height: 16px;">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16">
                        </path>
                    </svg>
                    Limpiar todas
                </button>
            </div>

            <div id="notificationsList" class="notifications-list">
                <!-- No results message -->
                <div id="noNotificationsMessage" class="no-notifications" style="display: none;">
                    <div class="no-notifications-icon">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9">
                            </path>
                        </svg>
                    </div>
                    <h3>No se encontraron notificaciones</h3>
                    <p>Intenta ajustar tus filtros de búsqueda.</p>
                </div>

                <!-- Historial específico para funcionarios -->
                <div class="notification-item" data-id="f2" data-status="nueva"
                    data-search="nuevo reporte asignado" onclick="toggleNotificationRead('f2', event)">
                    <div class="notif-icon purple">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                        </svg>
                    </div>
                    <div class="notif-content-wrapper">
                        <div class="notif-content">
                            <div class="notif-content-main">
                                <div class="notif-title">Nuevo reporte asignado</div>
                                <div class="notif-text">Reporte #SOL-2024-001248 asignado a tu equipo - Transformador sobrecargado</div>
                            </div>
                            <div class="notif-top-actions">
                                <span class="notif-time">15 min</span>
                                <span class="notif-badge nueva">Nueva</span>
                                <button class="notif-menu-btn" onclick="event.stopPropagation(); toggleNotifMenu('f2')">⋮</button>
                                <div class="notif-dropdown" id="dropdown-f2">
                                    <button onclick="markAsRead('f2')" class="dropdown-action">Marcar como leída</button>
                                    <button onclick="deleteNotification('f2')" class="dropdown-action danger">Eliminar</button>
                                </div>
                            </div>
                        </div>
                        <div class="notif-bottom">
                            <div class="notif-meta">El Prado &nbsp; · &nbsp; Equipo Alpha</div>
                            <div class="notif-actions">
                                <span class="notif-badge alta">Alto</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="notification-item" data-id="f3" data-status="medio"
                    data-search="reparacion completada" onclick="toggleNotificationRead('f3', event)">
                    <div class="notif-icon success">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                    </div>
                    <div class="notif-content-wrapper">
                        <div class="notif-content">
                            <div class="notif-content-main">
                                <div class="notif-title">Reparación completada</div>
                                <div class="notif-text">Equipo Delta completó exitosamente reparación en Boston - 200 usuarios reconectados</div>
                            </div>
                            <div class="notif-top-actions">
                                <span class="notif-time">1 hora</span>
                                <button class="notif-menu-btn" onclick="event.stopPropagation(); toggleNotifMenu('f3')">⋮</button>
                                <div class="notif-dropdown" id="dropdown-f3">
                                    <button onclick="markAsRead('f3')" class="dropdown-action">Marcar como leída</button>
                                    <button onclick="deleteNotification('f3')" class="dropdown-action danger">Eliminar</button>
                                </div>
                            </div>
                        </div>
                        <div class="notif-bottom">
                            <div class="notif-meta">Boston &nbsp; · &nbsp; Equipo Delta</div>
                            <div class="notif-actions">
                                <span class="notif-badge medio">Medio</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="notification-item" data-id="f1" data-status="nueva"
                    data-search="alerta critica cables caidos" onclick="toggleNotificationRead('f1', event)">
                    <div class="notif-icon danger">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                    </div>
                    <div class="notif-content-wrapper">
                        <div class="notif-content">
                            <div class="notif-content-main">
                                <div class="notif-title">Alerta crítica - Cables caídos</div>
                                <div class="notif-text">Equipo Beta requiere apoyo inmediato en Villa Country. Cables de alta tensión en el suelo.</div>
                            </div>
                            <div class="notif-top-actions">
                                <span class="notif-time">2 min</span>
                                <span class="notif-badge nueva">Nueva</span>
                                <button class="notif-menu-btn" onclick="event.stopPropagation(); toggleNotifMenu('f1')">⋮</button>
                                <div class="notif-dropdown" id="dropdown-f1">
                                    <button onclick="markAsRead('f1')" class="dropdown-action">Marcar como leída</button>
                                    <button onclick="deleteNotification('f1')" class="dropdown-action danger">Eliminar</button>
                                </div>
                            </div>
                        </div>
                        <div class="notif-bottom">
                            <div class="notif-meta">Villa Country &nbsp; · &nbsp; Equipo Beta</div>
                            <div class="notif-actions">
                                <span class="notif-badge critica">Crítico</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="notification-item" data-id="f4" data-status="medio"
                    data-search="mantenimiento programado" onclick="toggleNotificationRead('f4', event)">
                    <div class="notif-icon info">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                        </svg>
                    </div>
                    <div class="notif-content-wrapper">
                        <div class="notif-content">
                            <div class="notif-content-main">
                                <div class="notif-title">Mantenimiento programado</div>
                                <div class="notif-text">Corte programado en sectores seleccionados por mantenimiento</div>
                            </div>
                            <div class="notif-top-actions">
                                <span class="notif-time">3 horas</span>
                                <button class="notif-menu-btn" onclick="event.stopPropagation(); toggleNotifMenu('f4')">⋮</button>
                                <div class="notif-dropdown" id="dropdown-f4">
                                    <button onclick="markAsRead('f4')" class="dropdown-action">Marcar como leída</button>
                                    <button onclick="deleteNotification('f4')" class="dropdown-action danger">Eliminar</button>
                                </div>
                            </div>
                        </div>
                        <div class="notif-bottom">
                            <div class="notif-meta">—</div>
                            <div class="notif-actions">
                                <span class="notif-badge medio">Medio</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Notificación extra para demostrar filtro 'Nuevas' -->
                <div class="notification-item" data-id="f5" data-status="nueva"
                    data-search="nuevo aviso supervisión sector" onclick="toggleNotificationRead('f5', event)">
                    <div class="notif-icon info">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                        </svg>
                    </div>
                    <div class="notif-content-wrapper">
                        <div class="notif-content">
                            <div class="notif-content-main">
                                <div class="notif-title">Aviso de supervisión</div>
                                <div class="notif-text">Se ha programado una supervisión en Sector Norte para revisar fluctuaciones.</div>
                            </div>
                            <div class="notif-top-actions">
                                <span class="notif-time">10 min</span>
                                <span class="notif-badge nueva">Nueva</span>
                                <button class="notif-menu-btn" onclick="event.stopPropagation(); toggleNotifMenu('f5')">⋮</button>
                                <div class="notif-dropdown" id="dropdown-f5">
                                    <button onclick="markAsRead('f5')" class="dropdown-action">Marcar como leída</button>
                                    <button onclick="deleteNotification('f5')" class="dropdown-action danger">Eliminar</button>
                                </div>
                            </div>
                        </div>
                        <div class="notif-bottom">
                            <div class="notif-meta">Sector Norte &nbsp; · &nbsp; Análisis Operativo</div>
                            <div class="notif-actions">
                                <span class="notif-badge nueva">Nueva</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- En Vivo Tab -->
        <div class="tab-content" id="envivoTab">
            <div class="live-section-title">Alertas en Tiempo Real</div>
            <div class="live-subtitle">Eventos y reportes más recientes en el sistema</div>

            <div class="live-alert alta">
                <div style="flex: 1;">
                    <div class="notif-title">Equipo Alpha solicita grúa especializada - Transformador 150kVA</div>
                    <div class="notif-time">Ahora</div>
                    <div class="notif-submeta">Barranquilla Centro &nbsp; · &nbsp; Equipo Alpha</div>
                </div>
                <span class="live-alert-badge">Alta</span>
            </div>

            <div class="live-alert media">
                <div style="flex: 1;">
                    <div class="notif-title">Incremento del 15% en reportes de fluctuaciones - Sector Norte</div>
                    <div class="notif-time">5 min</div>
                    <div class="notif-submeta">Sector Norte &nbsp; · &nbsp; Análisis Operativo</div>
                </div>
                <span class="live-alert-badge">Media</span>
            </div>

            <div class="live-alert baja">
                <div style="flex: 1;">
                    <div class="notif-title">Equipo Delta regresando a base - Misión completada exitosamente</div>
                    <div class="notif-time">10 min</div>
                    <div class="notif-submeta">Boston &nbsp; · &nbsp; Equipo Delta</div>
                </div>
                <span class="live-alert-badge">Baja</span>
            </div>

            <div class="live-alert media">
                <div style="flex: 1;">
                    <div class="notif-title">Alerta meteorológica: Vientos fuertes previstos 18:00-22:00</div>
                    <div class="notif-time">20 min</div>
                    <div class="notif-submeta">Toda el área metropolitana &nbsp; · &nbsp; Todos los equipos</div>
                </div>
                <span class="live-alert-badge">Media</span>
            </div>

            <div class="live-status">
                <span class="status-dot connected"></span>
                Sistema operativo conectado
            </div>
        </div>
    </div>
</div>